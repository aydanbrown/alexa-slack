# Slack API module

An extremely simple Slack API integration.

## API Documentation

For Slack API documentation visit https://api.slack.com/methods

## Usage

Require the package:

``` js
var slack = require('slack')('{slack-api-token}');
```

Then call slack with a method, options and callback:

``` js
slack('{method}', { key: 'option' }, function(err, response) {
  if(err) return console.error(err);
  console.log(response);
});
```

Additionally you can change the Slack api token:

``` js
slack.token = '{slack-api-token}';
```

### Examples

Set a channels topic:
``` js
slack('channels.setTopic', { channel: 'C123456789', topic: 'Some topic' }, function(err, res) {
  if(err) return console.error(err);
  if(res.ok) {
    console.log('Topic set');
  }
})
```

List channel IDs and names:
``` js
slack('channels.list', {}, function(err, res) {
  if(err) return console.error(err);
  if(res.ok) {  
    res.channels.forEach(function(channel) {
      console.log(`${channel.id} - ${channel.name}`);
    })
  }
})
```

List the text of the last 10 messages in a channel:
``` js
slack('channels.history', { channel: 'C123456789', count: 10 }, function(err, res) {
  if(err) return console.error(err);
  if(res.ok) {
    res.messages.forEach(function(message) {
      console.log(message.text);
    });
  }
})
```
